<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <button>Rock</button>
    <button>Paper</button>
    <button>Scissors</button>

    <script>
        let humanScore = 0;
        let computerScore = 0;

        const chosenHands = document.createElement("p");
        const resultOutput = document.createElement("p");
        const score = document.createElement("p");
        const results = document.createElement("div");
        const winner = document.createElement("p");
        
        document.body.appendChild(results);

        function computerChoice(){
            const cChoice = (Math.random()*3);
            if(Math.floor(cChoice) == 0){
                return "Rock";
            }else if(Math.floor(cChoice) == 1){
                return "Paper"
            }else if(Math.floor(cChoice) == 2){
                return "Scissors"
            }
        }
        
        function handleButtonClick(event) {
            const humanHand = event.target.textContent;
            playRound(humanHand);
            
            if(humanScore === 5 || computerScore === 5){
                endGame();
            }
        }

        const buttons = document.querySelectorAll("button");

        buttons.forEach(button => {
            button.addEventListener("click", handleButtonClick);
        });

        function playRound(humanHand){

            const computerHand = computerChoice();

            chosenHands.innerHTML = (`The computer chose:  ${computerHand}<br>You chose: ${humanHand}`);
            results.appendChild(chosenHands);

            if(computerHand === humanHand){
                resultOutput.textContent = ("This round is a draw! Noone gets a point");
            }else if((computerHand === "Rock" && humanHand === "Scissors") || (computerHand === "Paper" && humanHand === "Rock") || (computerHand === "Scissors" && humanHand === "Paper")){
                resultOutput.textContent = ("This round was won by the Computer!");
                computerScore += 1;
            }else{
                humanScore += 1;
            }

            score.innerHTML = (`The current score is: <br> Computer Score: ${computerScore} <br> Your Score: ${humanScore}`);

            results.appendChild(resultOutput);
            results.appendChild(score);

        }

        function endGame() {
                buttons.forEach(button => {
                    button.removeEventListener("click", handleButtonClick);
                });

                if(humanScore > computerScore){
                    winner.textContent = (`You have won the game with a score of: ${humanScore}`);
                }else{
                    winner.textContent = (`Computer has won the game with a score of: ${computerScore}`);
                }
                results.appendChild(winner);
                buttons.forEach(button => button.disabled = true);
        }

    </script>
</body>
</html>